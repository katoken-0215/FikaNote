{% include "header.html" %}
{% load filter %}

<link rel="stylesheet" href="/static/css/jquery-ui.min.css">
<script type="text/javascript" src="/static/js/jquery-ui.min.js"></script>

  <style>
  .sortableContainer {
    width: 300px;
    float: left;
  }
  #sortable1, #sortable2 {
    border: 1px solid #ccc;
    min-height: 20px;
    list-style-type: none;
    margin: 0;
    padding: 5px 0 0 0;
    margin-right: 10px;
  }
  #sortable1 li, #sortable2 li {
    margin: 0 5px 5px 5px;
    padding: 5px;
    font-size: 0.9em;
  }
  </style>
  <script>
  $(function() {
    $( "#sortable1, #sortable2" ).sortable({
      connectWith: ".connectedSortable"
    }).disableSelection();
  });
  </script>

<div id="contents">

  <div class="sortableContainer"> 
    <span>Agenda</span>
    <ul id="sortable1" class="connectedSortable">
      {% for agenda in agendas %}
      <li class="ui-state-default">
	<a href="{{agenda.url}}" target="_blank">{{agenda.title}}</a>
        <input type="hidden" name="episode.id" value="{{ agenda|mongo_id}}"/>
      </li>
      {% endfor %}
    </ul>
  </div>

  <div class="sortableContainer"> 
    <span>Shownote</span>
    <form action="/new/" method="POST">{% csrf_token %}
      <div> title: {{ form.title }}</div>
      <div> agenda : {{ form.agenda }}</div>
      <div> person : {{ form.person }}</div>
      
      <input type="submit" value="Submit" />

    </form>
    <ul id="sortable2" class="connectedSortable">
      
    </ul>
  </div>

  <div style="clear: both;"></div>
  
</div>
{% include "footer.html" %}
